(this.webpackJsonplyubimovka=this.webpackJsonplyubimovka||[]).push([[0],{10:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),c=a(4),i=a.n(c),u=(a(10),a(2)),n=a(0);var l=function(e){var t=e.input,a=e.setInput,r=e.onSubmit;return Object(n.jsxs)("form",{className:"form form-search",onSubmit:r,name:"form",children:[Object(n.jsx)("input",{className:"input form-search__input",value:t,onChange:function(e){a(e.target.value)},type:"text",name:"search",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442"}),Object(n.jsx)("button",{className:"submit form-search__submit",type:"submit",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0438\u0441\u043a\u0430\u0442\u044c",disabled:""===t,children:"\u0438\u0441\u043a\u0430\u0442\u044c"})]})},o=a(5);var h=function(e,t){if(Array.isArray(e)){var a=t.toLowerCase(),r=e.reduce((function(e,t){t.title.toLowerCase().includes(a)&&e.push(t);return e}),[]),s=e.reduce((function(e,t){if(e.find((function(e){return e.author_firstName===t.author_firstName||e.author_lastName===t.author_lastName})))return e;(t.author_firstName.toLowerCase().includes(a)||t.author_lastName.toLowerCase().includes(a))&&e.push({author_firstName:t.author_firstName,author_lastName:t.author_lastName,_id:t._id});return e}),[]).reduce((function(e,t){var a=t.author_lastName[0];return e[a]?e[a].children.push(t):e[a]={group:a,children:[t],_id:t._id},e}),{});return{plays:r,authors:Object.values(s).sort((function(e,t){return e.group<t.group?-1:e.group>t.group?1:0}))}}};var m=function(e){var t=e.input,a=e.setInput,r=e.searchResults,c=e.setSearchResults,i=s.a.useState("\u043f\u043e\u0438\u0441\u043a"),m=Object(u.a)(i,2),_=m[0],d=m[1];return s.a.useEffect((function(){null!==r&&d(r.plays.length&&0!==r.authors.length?"\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \xab".concat(t,"\xbb \u043c\u044b \u043d\u0430\u0448\u043b\u0438"):"\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \xab".concat(t,"\xbb \u043c\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u043b\u0438"))}),[r]),Object(n.jsxs)("section",{className:"section section__search",children:[Object(n.jsx)("h1",{className:"text header header_margin",children:_}),Object(n.jsx)(l,{input:t,setInput:a,onSubmit:function(e){e.preventDefault(),c(h(o.result,t))}})]})};var _=function(e){var t=e.title,a=e.name,r=e.surname,s=e.city,c=e.year;return Object(n.jsxs)("li",{className:"play-card",children:[Object(n.jsx)("div",{className:"play-card__background-image",children:Object(n.jsx)("h2",{className:"text play-card__title",children:t||""})}),Object(n.jsxs)("div",{className:"play-card__author",children:[Object(n.jsx)("p",{className:"text play-card__surname",children:r||""}),Object(n.jsx)("p",{className:"text play-card__name",children:a||""})]}),Object(n.jsxs)("div",{className:"play-card__info",children:[Object(n.jsx)("p",{className:"text play-card__city",children:s||""}),Object(n.jsx)("p",{className:"text play-card__year",children:c||""})]})]})};var d=function(e){var t=e.plays;return Object(n.jsx)("ul",{className:"play-cards",children:t.map((function(e){return Object(n.jsx)(_,{title:e.title,name:e.author_firstName,surname:e.author_lastName,city:e.city,year:e.year},e._id)}))})};var b=function(e){var t=e.searchResults;return Object(n.jsx)("section",{className:"section section__plays",children:null!==t&&Object(n.jsx)(d,{plays:t.plays})})};var f=function(e){var t=e.name,a=e.surname;return Object(n.jsx)("li",{className:"author-card",children:Object(n.jsxs)("p",{className:"text author-card__content",children:[a," ",t]})})};var N=function(e){var t=e.literal;return Object(n.jsxs)("ul",{className:"author-cards",children:[Object(n.jsx)("h2",{className:"text author-cards__title",children:t.group}),t.children.map((function(e){return Object(n.jsx)(f,{name:e.author_firstName,surname:e.author_lastName},e._id)}))]})};var j=function(e){var t=e.searchResults;return Object(n.jsx)("section",{className:"section section__authors",children:null!==t&&t.authors.map((function(e){return Object(n.jsx)(N,{literal:e},e._id)}))})};var y=function(){var e=s.a.useState(""),t=Object(u.a)(e,2),a=t[0],r=t[1],c=s.a.useState(null),i=Object(u.a)(c,2),l=i[0],o=i[1];return console.log("searchResults:",l),Object(n.jsx)("div",{className:"page",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(m,{input:a,setInput:r,searchResults:l,setSearchResults:o}),Object(n.jsx)(b,{searchResults:l}),Object(n.jsx)(j,{searchResults:l})]})})},p=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,13)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),r(e),s(e),c(e),i(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root")),p()},5:function(e){e.exports=JSON.parse('{"result":[{"_id":"611e5bee6dbecd9b57cd7244","author_firstName":"\u0410\u043d\u0433\u0435\u043b\u0438\u043d\u0430","author_lastName":"\u041f\u0430\u0441\u0442\u0435\u0440\u043d\u0430\u043a","title":"\u0410\u0432\u0433\u0443\u0441\u0442\u0438\u043d\u0430 \u0438 \u0421\u0442\u0435\u043f\u0430\u043d","city":"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433","year":2021},{"_id":"611e5beea040b02068815775","author_firstName":"\u0410\u043d\u0433\u0435\u043b\u0438\u043d\u0430","author_lastName":"\u041f\u0430\u0441\u0442\u0435\u0440\u043d\u0430\u043a","title":"\u0410\u0440\u043c\u0438\u0438 \u043f\u043b\u0435\u043c\u0435\u043d \u043f\u0443\u0441\u0442\u044b\u043d\u0438","city":"\u041c\u043e\u0441\u043a\u0432\u0430","year":2020},{"_id":"611e5bee069337ece473d74a","author_firstName":"\u0410\u0432\u0433\u0443\u0441\u0442\u0438\u043d\u0430","author_lastName":"\u0411\u043e\u0433\u0430\u0442\u043e\u0432\u0430","title":"\u0422\u0451\u043c\u043d\u044b\u0439 \u043b\u0435\u0441","city":"\u041c\u043e\u0441\u043a\u0432\u0430","year":2002},{"_id":"611e5bee33b9e60cbca42043","author_firstName":"\u0411\u043e\u0440\u0438\u0441","author_lastName":"\u0410\u0432\u0433\u0443\u0441\u0442\u043e\u0432\u0441\u043a\u0438\u0439","title":"\u041e\u043a\u0435\u0430\u043d \u043c\u043e\u0435\u0439 \u0431\u043e\u043b\u0438","city":"\u0422\u043e\u043c\u0441\u043a","year":2021},{"_id":"611e5bee4431d2b72b5372a1","author_firstName":"\u0422\u0435\u043e\u0434\u043e\u0440","author_lastName":"\u0411\u0436\u043e\u0436\u043e\u0432\u0441\u043a\u0438\u0439","title":"\u0410\u0432\u0433\u0443\u0441\u0442 1999 \u0438\u043b\u0438 \u041d\u0438\u043a\u0438\u0442\u0430, \u043b\u044e\u0431\u043e\u0432\u044c \u0438 \u0433\u043e\u043b\u0443\u0431\u0438","city":"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433","year":2019},{"_id":"611e5bee0c21a2345ce72fd4","author_firstName":"\u0412\u0438\u043a\u0442\u043e\u0440\u0438\u044f","author_lastName":"\u0418\u0441\u0430\u043a\u043e\u0432\u0430","title":"\u0416\u0438\u0437\u043d\u044c \u043b\u0435\u0441\u0430","city":"\u042f\u0440\u043e\u0441\u043b\u0430\u0432\u043b\u044c","year":2016},{"_id":"611e5beef81074e2754d2ed8","author_firstName":"\u0418\u043b\u044c\u044f","author_lastName":"\u0411\u043e\u0440\u0438\u0441\u043e\u0432","title":"\u0427\u0435\u043b\u043e\u0432\u0435\u043a \u0438\u0437 \u041c\u044b\u0442\u0438\u0449","city":"\u041c\u043e\u0441\u043a\u0432\u0430","year":2020},{"_id":"611e5bee9a090e17c4376626","author_firstName":"\u041d\u0438\u043a\u043e\u043b\u0430\u0439","author_lastName":"\u0424\u0440\u043e\u043b\u043e\u0432","title":"\u0410\u0439-\u043b\u0451-\u043b\u044d-\u043b\u0451-\u043b\u044d-\u043b\u0451-\u043b\u044d","city":"\u041c\u043e\u0441\u043a\u0432\u0430","year":2021},{"_id":"611e5beefea212a57e9da952","author_firstName":"\u041d\u0438\u043a\u043e\u043b\u0430\u0439","author_lastName":"\u0424\u0440\u043e\u043b\u043e\u0432","title":"\u0413\u043e\u043b\u043e\u0441 \u042e\u0410\u041e","city":"\u041f\u043e\u0434\u043e\u043b\u044c\u0441\u043a","year":2020},{"_id":"611e5beeccdf2126867904b2","author_firstName":"\u0410\u043d\u0430\u0441\u0442\u0430\u0441\u0438\u044f","author_lastName":"\u041c\u0430\u0440\u0442\u044b\u043d\u043e\u0432\u0430","title":"\u041c\u043b\u0435\u0447\u043d\u044b\u0439 \u043f\u0443\u0442\u044c","city":"\u041a\u0430\u0437\u0430\u043d\u044c","year":2020},{"_id":"611e5bee4fdfbe65ecf412c1","author_firstName":"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440","author_lastName":"\u041c\u0430\u0439\u0437\u0438\u043d\u0433\u0435\u0440","title":"\u041e\u0434\u0438\u043d\u043e\u043a\u0430\u044f \u0434\u0443\u0448\u0430 \u0437\u0430\u0431\u044b\u0442\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430","city":"\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a","year":2021},{"_id":"611e5bee6332eefba8889509","author_firstName":"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440","author_lastName":"\u041c\u0430\u0439\u0437\u0438\u043d\u0433\u0435\u0440","title":"\u0422\u043e\u0442 \u043a\u0442\u043e \u0441\u0442\u043e\u0438\u0442 \u0437\u0430 \u043f\u043b\u0435\u0447\u043e\u043c","city":"\u041c\u043e\u0441\u043a\u0432\u0430","year":2019},{"_id":"611e5bee5fa4d06a3bcb4420","author_firstName":"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430","author_lastName":"\u0410\u0432\u0433\u0443\u0441\u0442\u0435\u043d\u044f\u043a","title":"\u0421\u043b\u043e\u043c\u0430\u043d\u043d\u0430\u044f \u043a\u043e\u043c\u043d\u0430\u0442\u0430","city":"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433","year":2017},{"_id":"611e5bee1c3dc670d207b070","author_firstName":"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430","author_lastName":"\u0410\u0432\u0433\u0443\u0441\u0442\u0435\u043d\u044f\u043a","title":"\u0421\u0442\u0435\u043a\u043b\u044f\u043d\u043d\u044b\u0439 \u0444\u043b\u0430\u0433","city":"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433","year":2021},{"_id":"611e5bee76aa7307ad3efcda","author_firstName":"\u0411\u043e\u0440\u0438\u0441","author_lastName":"\u0410\u0432\u0433\u0443\u0441\u0442\u043e\u0432\u0441\u043a\u0438\u0439","title":"\u041a\u043e\u0433\u0434\u0430 \u043f\u043e\u0433\u0430\u0441\u043d\u0443\u0442 \u0432\u0441\u0435 \u043e\u0433\u043d\u0438","city":"\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a","year":2020},{"_id":"611e5bee9bb22450063be1f9","author_firstName":"\u0421\u0435\u0440\u0433\u0435\u0439","author_lastName":"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0441\u043a\u0438\u0439","title":"\u041c\u0451\u0434 \u0438 \u043a\u043b\u0435\u0432\u0435\u0440","city":"\u041c\u043e\u0441\u043a\u0432\u0430","year":2021},{"_id":"611e5bee9bb22980063be1f5","author_firstName":"\u041f\u043b\u0430\u0442\u043e\u043d","author_lastName":"\u0415\u0432\u0434\u043e\u043a\u0438\u043c\u043e\u0432","title":"\u041f\u043e \u0442\u0443 \u0441\u0442\u043e\u0440\u043e\u043d\u0443 \u0430\u0432\u0433\u0443\u0441\u0442\u0430","city":"\u041c\u043e\u0441\u043a\u0432\u0430","year":2017}]}')}},[[12,1,2]]]);
//# sourceMappingURL=main.b4fc4e18.chunk.js.map