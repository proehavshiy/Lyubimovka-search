{"version":3,"sources":["components/Form.js","hooks/searchInfo.js","components/SearchSection.js","components/PlayCard.js","components/PlaysBlock.js","components/PlaysSection.js","components/Author.js","components/AuthorsBlock.js","components/AuthorsSection.js","components/App.js","reportWebVitals.js","index.js"],"names":["Form","input","setInput","onSubmit","className","name","value","onChange","evt","target","type","placeholder","disabled","searchInfo","dataArray","key","Array","isArray","searchKey","toLowerCase","plays","reduce","acc","current","title","includes","push","authorsGrouped","find","item","author_firstName","author_lastName","_id","group","children","authors","Object","values","sort","a","b","SearchSection","searchResults","setSearchResults","React","useState","headerText","setHeaderText","useEffect","length","preventDefault","DATABASE","result","PlayCard","surname","city","year","PlaysBlock","map","play","PlaysSection","Author","uthorsBlock","literal","author","AuthorsSection","AuthorsBlock","App","console","log","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b4fc4e18.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Form({ input, setInput, onSubmit }) {\n\n  function handleChange(evt) {\n    setInput(evt.target.value);\n  }\n\n  return (\n    <form className='form form-search' onSubmit={onSubmit} name='form'>\n      <input className='input form-search__input' value={input} onChange={handleChange} type=\"text\" name=\"search\" placeholder=\"введите текст\" />\n      <button className='submit form-search__submit' type=\"submit\" value=\"Отправить\" aria-label=\"Кнопка искать\" disabled={input === ''}>\n        искать\n      </button>\n    </form>\n  )\n}\n\nexport default Form;","function searchInfo(dataArray, key) {\n  if (!Array.isArray(dataArray)) {\n    return;\n  }\n\n  const searchKey = key.toLowerCase();\n\n  // поиск пьес\n  const plays = dataArray.reduce((acc, current) => {\n    const check = current.title.toLowerCase().includes(searchKey) ? acc.push(current) : acc;\n    return acc;\n  }, [])\n\n  // поиск авторов\n  const authors = dataArray.reduce((acc, current) => {\n    // проверка авторов на дубли\n    if (acc.find((item) => item.author_firstName === current.author_firstName || item.author_lastName === current.author_lastName)) return acc;\n    const check =\n      current.author_firstName.toLowerCase().includes(searchKey) ||\n        current.author_lastName.toLowerCase().includes(searchKey)\n        ? acc.push({\n          author_firstName: current.author_firstName,\n          author_lastName: current.author_lastName,\n          _id: current._id,\n        }) : acc;\n    return acc;\n  }, [])\n\n  // упаковка авторов в группы по первым буквам фамилии\n  const authorsGrouped = authors.reduce((acc, current) => {\n    const group = current.author_lastName[0];\n    if (!acc[group]) acc[group] = { group, children: [current], _id: current._id }\n    else acc[group].children.push(current);\n    return acc;\n  }, {})\n\n  //сортировка групп авторов по алфавиту\n  const autorsArrSorted = Object.values(authorsGrouped).sort((a, b) => {\n    if (a.group < b.group)\n      return -1;\n    if (a.group > b.group)\n      return 1;\n    return 0;\n  })\n  return {\n    plays,\n    authors: autorsArrSorted\n  }\n}\n\n\nexport default searchInfo;","import React from 'react';\nimport Form from './Form';\nimport DATABASE from '../data/data.json';\nimport searchInfo from '../hooks/searchInfo';\n\nfunction SearchSection({ input, setInput, searchResults, setSearchResults }) {\n\n  const [headerText, setHeaderText] = React.useState('поиск')\n\n  const changeHeaderText = React.useEffect(() => {\n    if (searchResults !== null) {\n      setHeaderText(\n        searchResults.plays.length &&\n          searchResults.authors.length !== 0 ?\n          `По запросу «${input}» мы нашли` :\n          `По запросу «${input}» мы ничего не нашли`\n      )\n    }\n  }, [searchResults])\n\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    // берет input и выполняет поиск по базе\n    setSearchResults(searchInfo(DATABASE.result, input));\n  }\n\n  return (\n    <section className=\"section section__search\">\n      <h1 className=\"text header header_margin\">\n        {headerText}\n      </h1>\n      <Form\n        input={input}\n        setInput={setInput}\n        onSubmit={handleSubmit}\n      />\n    </section>\n  )\n}\n\nexport default SearchSection;","import React from 'react';\n\nfunction PlayCard({ title, name, surname, city, year }) {\n\n  return (\n    <li className=\"play-card\">\n      <div className=\"play-card__background-image\">\n        <h2 className=\"text play-card__title\">{title || ''}</h2>\n      </div>\n      <div className=\"play-card__author\">\n        <p className='text play-card__surname'>{surname || ''}</p>\n        <p className='text play-card__name'>{name || ''}</p>\n      </div>\n      <div className=\"play-card__info\">\n        <p className='text play-card__city'>{city || ''}</p>\n        <p className='text play-card__year'>{year || ''}</p>\n      </div>\n    </li>\n  )\n}\n\nexport default PlayCard;","import React from 'react';\nimport PlayCard from './PlayCard';\n\nfunction PlaysBlock({ plays }) {\n\n  return (\n    <ul className=\"play-cards\">\n      {\n        plays.map((play) => {\n          return (\n            <PlayCard\n              key={play._id}\n              title={play.title}\n              name={play.author_firstName}\n              surname={play.author_lastName}\n              city={play.city}\n              year={play.year}\n            />\n          )\n        })\n      }\n    </ul>\n  )\n}\n\nexport default PlaysBlock;","import React from 'react';\nimport PlaysBlock from './PlaysBlock';\n\nfunction PlaysSection({ searchResults }) {\n\n  return (\n    <section className=\"section section__plays\">\n      {\n        searchResults !== null &&\n        <PlaysBlock\n          plays={searchResults.plays}\n        />\n      }\n    </section>\n  )\n}\n\nexport default PlaysSection;","import React from 'react';\n\nfunction Author({ name, surname }) {\n\n  return (\n    <li className=\"author-card\">\n      <p className=\"text author-card__content\">{surname} {name}</p>\n    </li>\n  )\n}\n\nexport default Author;","import React from 'react';\nimport Author from './Author';\n\nfunction uthorsBlock({ literal }) {\n\n  return (\n    <ul className=\"author-cards\">\n      <h2 className='text author-cards__title'>{literal.group}</h2>\n      {\n        literal.children.map((author) => {\n          return <Author\n            key={author._id}\n            name={author.author_firstName}\n            surname={author.author_lastName}\n          />\n        })\n      }\n    </ul>\n  )\n}\n\nexport default uthorsBlock;","import React from 'react';\nimport AuthorsBlock from './AuthorsBlock';\n\nfunction AuthorsSection({ searchResults }) {\n\n  return (\n    <section className=\"section section__authors\">\n      {\n        searchResults !== null &&\n        searchResults.authors.map((literal) => {\n          return (\n            <AuthorsBlock\n              key={literal._id}\n              literal={literal}\n            />\n          )\n        })\n      }\n    </section>\n  )\n}\n\nexport default AuthorsSection;","import React from 'react';\nimport SearchSection from './SearchSection';\nimport PlaysSection from './PlaysSection';\nimport AuthorsSection from './AuthorsSection';\n\n\nfunction App() {\n\n  const [input, setInput] = React.useState('');\n  const [searchResults, setSearchResults] = React.useState(null);\n\n  console.log('searchResults:', searchResults);\n  return (\n    <div className=\"page\">\n      <div className=\"container\">\n        <SearchSection\n          input={input}\n          setInput={setInput}\n          searchResults={searchResults}\n          setSearchResults={setSearchResults}\n        />\n        <PlaysSection\n          searchResults={searchResults}\n        />\n        <AuthorsSection\n          searchResults={searchResults}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}